## Principles of Network Applications
-  Applications examples
	- Text messaging
	- Streaming video
	- Email
	- Voice over IP (VOIP)
	- P2P file sharing
	- etc
- Create a network application
	- when we write an application, we write it based on the transport layer
		- e.g. HTTP is based on TCP
- Client-Server paradigm
	- Clients
		- clients don't communicate with each other
		- clients communicate with the server
		- may not have a steady connection
	- Server
		- always on
		- permanent IP
- P2P
	- no always-on server
	- end systems directly communicate
	- peers request service from other peers and return service in return
		- this give it the benefit of being scalable with more users
	- peers don't have a steady connection with each other
	- e.g. Torrents
- Processes Communicating
	- Within the same host, two processes communicate using an inter-process standard set by the OS
	- Processes in different hosts communicate by sending each other "messages"
	- Client process - initiates communication
	- Server process - waits for communication
- Socket
	- The way for two processes to keep up communication
	- Makes it easier to define a destination, helps with development on the application layer
	- Used for machine to machine communication, could be used for intra computer communication
- Addressing Processes
	- processes must have identifiers
		- identifier includes both IP address and port numbers associated with process on host
	- host devices have a unique 32-bit IP address
- Protocols
	- protocols define
		- types of messages explained
		- the syntax of each type of message
		- what information goes where
		- procedures for how to send and respond
	- Open protocols
		- RFCs are documents that describe various aspects of internet protocols, standards, procedures, programs, and concepts.
		- open protocols defined for everyone
		- allows interoperability between many different applications
		- anybody can create an application that follow open protocols
	- Proprietary protocols
		- closed, patented
		- inner workings unknown
		- e.g. Zoom, MS Teams
- Transport
	- transport needs
		- some apps need 100% reliable data transfer
		- some can tolerate loss
	- timing
		- gaming and voice calls
	- throughput
		- some apps need a minimum amount of throughput to be effect
			- watching a youtube video
		- some can take a little amount and be fine
		![[Transport Service Requirements.png]]
- Internet Transport protocols
	- TCP
		- reliable transport
		- flow control
		- congestion control
		- does not provide timing, minimum throughput guarantee, security
		- connection-orientated
	- UDP
		- unreliable data transfer
		- does not provide reliability, flow control, congestion control, timing, throughput guarantee, security, or connection setup
		- used when lost isn't an issue or timing is important
			- Used for two way connections like calls
## Web and HTTP
- HTTP
	- Web page consists of base HTML-files, and other files that are addressable by a URL
		- CSS, JS, JPG, PNG, so on...
	- A HTTP request will include a web address
		- the response will give back a HTML page
	- HTTP uses TCP
		- port 80
		- creates a TCP connection
		- messages are sent from web server to browser
		- TCP connection closes
	- stateless, no information about past client requests
	- Two Types of HTTP
		- Persistent
			- multiples objects can be send with a single TCP connection
			- Connection is kept open after initial response
			- Connection is closed when there is an explicit closure, timeout, server load balancing or an error
			- Persistent HTTP steps:
				- Client initiates a connection on port 80
				- Server accepts this request
				- Client sends HTTP request message to the TCP socket
				- Server sends response message using TCP socket
				- HTTP client receives response, displays information to user, sends request for any objects that are referenced
				- Server sends these objects on same connection
				- Client receives objects
			- RTT - Round Trip Time $2RTT+T\times\text{(html file)}+RTT+T\times\text{(object 1)}+RTT+T\times\text{(object 2)}+...$
		- Non-persistent
			- at most, one object can be sent over a TCP connection
			- multiple object require multiple connections
			- Response time is worst as for every object $2RTT+T\times\text{(object)}$
			- Browsers will often open parallel TCP connections to get referenced objects
				- results in a greater overhead
			- If in parallel $2RTT+T\times\text{(html file)}+2RTT+T\times\text{(all objects in parallel)}$
				- limited amount of parallel connections
		![[HTTP request message.png]]
		- This is a Get request
		- The close means Non-persistent
		![[HTTP response message.png]]
		- This is an OK response
		- Keep-Alive means persistent
	- Status codes
		- 200 OK
			- request succeeded
			- requested object later in this message
		- 301 Moved Permenantly
			- requested object moved
			- new location specified later in this message
		- 400 Bad Request
			- request msg not understood by server
		- 404 Not Found
			- requested document not found on this server
		- 505 HTTP Version Not Supported
			- wrong version of HTTP
	![[TRYING OUT HTTP YOURSELF.png]]
- Cookies
	- HTTP is stateless but sites remember who we are?
	- Cookies store identifying numbers
	- Servers will store these numbers along with relevant information
	- This allows websites to send and receive personalised information
	- What can they be used for?
		- Authorisation
		- Shopping carts
		- recommendations
		- User session state (dark mode)
- Web Caches
	- Used for when the same file is being accessed by many people in one area
		- only really used for static pages
		- e.g. many people accessing https://www.uts.edu.au, which is a site with no login, therefore cache can be used
		- This can be done for YouTube videos (localised Google servers) and Steam games (e.g. a LAN server will cache some games in house)
	- Caching reduces traffic going outside institutions and ISPs
		- Saves money
	- Reduces response time
